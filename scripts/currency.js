const inputBox = document.querySelector('#inputValue');
const conversionResult = document.querySelector('#conversionResult');
const initialCurrency = document.querySelector('#initialCurrency');
const conversionCurrency = document.querySelector('#conversionCurrency');

const sampleResponse = {"success":true,"timestamp":1565634306,"base":"EUR","date":"2019-08-12","rates":{"AED":4.118942,"AFN":88.055128,"ALL":121.000456,"AMD":533.651129,"ANG":2.002114,"AOA":405.948204,"ARS":59.237531,"AUD":1.660999,"AWG":2.018429,"AZN":1.911911,"BAM":1.959022,"BBD":2.264622,"BDT":94.723756,"BGN":1.956302,"BHD":0.422799,"BIF":2067.264159,"BMD":1.12135,"BND":1.514499,"BOB":7.751498,"BRL":4.460841,"BSD":1.12163,"BTC":9.8506892e-5,"BTN":77.276804,"BWP":12.375176,"BYN":2.286937,"BYR":21978.453266,"BZD":2.260809,"CAD":1.484835,"CDF":1867.04748,"CHF":1.087653,"CLF":0.029053,"CLP":801.654134,"CNY":7.914711,"COP":3846.117187,"CRC":642.751972,"CUC":1.12135,"CUP":29.715766,"CVE":110.391822,"CZK":25.834547,"DJF":199.286211,"DKK":7.464601,"DOP":57.216839,"DZD":133.939593,"EGP":18.596434,"ERN":16.820446,"ETB":32.773127,"EUR":1,"FJD":2.439216,"FKP":0.92767,"GBP":0.928556,"GEL":3.279941,"GGP":0.928584,"GHS":6.066388,"GIP":0.92767,"GMD":56.196447,"GNF":10304.698963,"GTQ":8.596883,"GYD":234.020092,"HKD":8.798586,"HNL":27.46802,"HRK":7.390145,"HTG":106.385248,"HUF":324.361166,"IDR":16022.404566,"ILS":3.896807,"IMP":0.928584,"INR":79.924982,"IQD":1338.330815,"IRR":47214.427521,"ISK":137.510788,"JEP":0.928584,"JMD":151.191338,"JOD":0.795032,"JPY":118.07925,"KES":115.734495,"KGS":78.26325,"KHR":4590.188863,"KMF":493.000964,"KPW":1009.28946,"KRW":1367.390561,"KWD":0.341005,"KYD":0.93474,"KZT":434.881868,"LAK":9758.992323,"LBP":1695.761067,"LKR":198.366185,"LRD":227.63371,"LSL":17.100722,"LTL":3.311054,"LVL":0.678293,"LYD":1.574043,"MAD":10.710457,"MDL":19.667325,"MGA":4132.00557,"MKD":61.601312,"MMK":1693.630898,"MNT":2990.365739,"MOP":9.063252,"MRO":400.322215,"MUR":40.258661,"MVR":17.381109,"MWK":817.525592,"MXN":21.930639,"MYR":4.711801,"MZN":67.797129,"NAD":17.100932,"NGN":407.980776,"NIO":37.601659,"NOK":10.002607,"NPR":127.93446,"NZD":1.739578,"OMR":0.431731,"PAB":1.121518,"PEN":3.800646,"PGK":3.810119,"PHP":58.50644,"PKR":179.696268,"PLN":4.329508,"PYG":6795.210604,"QAR":4.082817,"RON":4.724468,"RSD":117.730744,"RUB":73.428176,"RWF":1029.085007,"SAR":4.206126,"SBD":9.219068,"SCR":15.345723,"SDG":50.596422,"SEK":10.733531,"SGD":1.555172,"SHP":1.481193,"SLL":10428.55181,"SOS":650.383102,"SRD":8.362984,"STD":24177.184459,"SVC":9.813996,"SYP":577.495342,"SZL":17.314201,"THB":34.598687,"TJS":10.588624,"TMT":3.924724,"TND":3.189678,"TOP":2.59099,"TRY":6.233694,"TTD":7.595182,"TWD":35.26925,"TZS":2579.326128,"UAH":28.247899,"UGX":4142.039764,"USD":1.12135,"UYU":39.573035,"UZS":9760.620242,"VEF":11.199482,"VND":26013.630005,"VUV":131.43433,"WST":2.988887,"XAF":657.043324,"XAG":0.065774,"XAU":0.000745,"XCD":3.030504,"XDR":0.814773,"XOF":657.043509,"XPF":119.457175,"YER":280.729994,"ZAR":17.159363,"ZMK":10093.493666,"ZMW":14.620199,"ZWL":361.07459}}

inputBox.addEventListener('input', conversion);
initialCurrency.addEventListener('input', conversion);
conversionCurrency.addEventListener('input', conversion);

function conversion(){
  const initialValue = inputBox.value;
  const conversionBaseEURValue = sampleResponse['rates'][conversionCurrency.value]
  const initialBaseEURValue = sampleResponse['rates'][initialCurrency.value]
  const conversionValue = conversionBaseEURValue/initialBaseEURValue;
  const resultValue = initialValue*conversionValue;


  if (isNaN(resultValue)) {
    conversionResult.textContent = '?';
  } else {
    conversionResult.textContent = resultValue;
  }
}
